% Author: Alfredo SÃ¡nchez Alberca (asalber@ceu.es)

\sloppy

\section*{Calculus Formulas}

\footnotesize
\tcbset{enhanced, colback=color1!10, colframe=color1, fonttitle=\bfseries\large\sffamily, %lifted shadow={1mm}{-2mm}{3mm}{0.1mm}
}

\begin{multicols}{2}
\subsection*{Analytic Geometry}

	\begin{tcolorbox}[hbox, title=Vectors]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\rule{0.4\textwidth}{0pt}
			\begin{description}
				\item[Vector joining two points] $P=(p_1,\ldots,p_n)$, $Q=(q_1,\ldots,q_n)\in \mathbb{R}^n$
				      \[
					      \vec{PQ} = Q-P = (q_1-p_1,\ldots,q_n-p_n)
				      \]
				\item[Dot product] $\mathbf{u}=(u_1,\cdots,u_n)$, $\mathbf{v}=(v_1,\cdots,v_n)\in\mathbb{R}^n$
				      \[
					      \mathbf{u}\cdot \mathbf{v} = u_1v_1 + \ldots + u_nv_n
				      \]
				\item[Orthogonal vectors] (perpendicular)
				      \[
					      \mathbf{u\cdot v}=0
				      \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Lines]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Vectorial equation] of a line that passes through $P$ with direction $\mathbf{v}$
				      \[
					      P+t\mathbf{v}
				      \]
				\item[Point-slope equation] of a line in $\mathbb{R}^2$ that passes through $(x_0,y_0)$ with slope $m$
				      \[
					      y=y_0+m(x-x_0)
				      \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Planes]
		\begin{minipage}{0.4\textwidth}
			\begin{description}
				\item[General equation] of a plane in $\mathbb{R}^3$ that passes through a point $(x_0,y_0,z_0)$ perpendicular to the vector $(a,b,c)$
				      \[
					      a(x-x_0)+b(y-y_0)+c(z-z_0)=0
				      \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}


\subsection*{Derivatives of functions of one variable}

	\begin{tcolorbox}[hbox, title=Concept of derivative]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\rule{0.4\textwidth}{0pt}
			\begin{description}
				\item[Average rate of change] of a function $f(x)$ in an interval $[a,a+\Delta x]$
				      \[
					      \mbox{ARC}f[a,a+\Delta x] = \frac{\Delta y}{\Delta x} = \frac{f(a+\Delta x)-f(a)}{\Delta x}
				      \]
				\item[Instantaneous rate of change (Derivative)] of a function $f(x)$ at point $x=a$
				      \[
					      f'(a)=\lim_{\Delta x\rightarrow 0} \frac{\Delta y}{\Delta x} = \lim_{\Delta x\rightarrow 0}\frac{f(a+\Delta x)-f(a)}{\Delta x}
				      \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Algebra of derivatives]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\rule{0.4\textwidth}{0pt}
			\begin{description}
				\item[Sum] $(u+v)'=u'+v'$
				\item[Subtraction] $(u-v)'=u'-v'$
				\item[Product] $(u\cdot v)'=u'\cdot v+ u\cdot v'$
				\item[Quotient] $\left(\dfrac{u}{v}\right)'=\dfrac{u'\cdot v-u\cdot v'}{v^2}$
				\item[Chain rule] $(f\circ g)'(x)=f'(g(x))g'(x)$
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Secant and tangent lines]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Secant line] to the graph of $f(x)$ at points $(a,f(a))$ and $(a+\Delta x, f(a+\Delta x))$
				      \[
					      y=f(a)+\mbox{ARC}f[a,a+\Delta x](x-a)
				      \]
				\item[Tangent line] to the graph of $f(x)$ at point $(a,f(a))$
				      \[
					      y=f(a)+f'(a)(x-a)
				      \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title={Growth, concavity and extrema}]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Growth]
				      \begin{itemize}
					      \item[]
					      \item $\forall x\in I\ f'(x)\geq 0$ $\Rightarrow$ $f$ is increasing in $I$.
					      \item $\forall x\in I\ f'(x)\leq 0$ $\Rightarrow$ $f$ is decreasing in $I$.
				      \end{itemize}
				\item[Concavity]
				      \begin{itemize}
					      \item[]
					      \item $\forall x\in I\ f''(x)\geq 0$ $\Rightarrow$ $f$ is concave up in $I$.
					      \item $\forall x\in I\ f''(x)\leq 0$ $\Rightarrow$ $f$ is concave down in $I$.
				      \end{itemize}
				\item[Extrema] If $f'(a)=0$ (critical point)
				      \begin{itemize}
					      \item $f''(a)<0$ $\Rightarrow$ $f$ has a local maximum at $x=a$.
					      \item $f''(a)>0$ $\Rightarrow$ $f$ has a local minimum at $x=a$.
				      \end{itemize}
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Function approximation]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Variation of a function]
				\[
				  \Delta y\approx f'(a)\Delta x
				\]
				\item[Taylor polynomial] of order $n$ of $f(x)$ at point $x=a$
				\[
					P^n_{f,a}(x)=f(a)+f'(a)(x-a)+\frac{f''(a)}{2}(x-a)^2+\cdots+\frac{f^n(a)}{n!}(x-a)^n
				\]
				\item[Maclaurin polynomial] of order $n$ of $f(x)$
				\[
					P^n_{f,0}(x)=f(0)+f'(0)x+\frac{f''(0)}{2}x^2+\cdots+\frac{f^n(0)}{n!}x^n
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}



\subsection*{Differential equations}

	\begin{tcolorbox}[hbox, title=First order differential equation]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[First order ordinary differential equation] 				      
				\[
					F(x,y,y')=0
				\]
				\item[Initial value problem]
				\[
					\left\{
					\begin{array}{ll}
						F(x,y,y')=0, & \hbox{First order ODE;} \\
						y(x_0)=y_0, & \hbox{Initial condition.} \\
					\end{array}
					\right.    
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Solving first order ODE]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Separable differential equation] 
			  \[
			    y'g(y)=f(x)
				\]
				Solution:
				\[
					\int g(y)\,dy = \int f(x)\,dx+C.
				\]
				\item[Linear differential equation] 
			  \[
					y'+g(x)y = h(x)
				\]
				Solution:
				\[
					y=e^{-\int g(x)\,dx}\left(\int h(x)e^{\int g(x)\,dx}\,dx+C\right).
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}



\subsection*{Derivatives of vectorial functions}

	\begin{tcolorbox}[hbox, title=Derivative of a vectorial function]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			If $f(t)=(x_1(t),\ldots, x_n(t))$ then
			\[
				f'(t)=(x_1'(t),\ldots, x_n'(t))
			\]
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Tangent and normal lines in the plane]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Tangent line to a trajectory in the plane] \mbox{$f(t)=(x(t),y(t))$} at time $t=a$				      
				\[
					\begin{array}{c}
						(x(a),y(a))+t(x'(a),y'(a)) \mbox{ or } \\
						(x-x(a))y'(a)-(y-y(a))x'(a)=0
					\end{array}      
				\]
				\item[Normal line to a trajectory in the plane] \mbox{$f(t)=(x(t),y(t))$} at time $t=a$
				\[
					\begin{array}{c}
						(x(a),y(a))+t(y'(a),-x'(a)) \mbox{ or }\\
						(x-x(a))x'(a)+(y-y(a))y'(a)=0
					\end{array}      
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Tangent line and normal plane in the space]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Tangent line to a trajectory in the space] \mbox{$f(t)=(x(t),y(t),z(t))$} at time $t=a$
				      \[
					      (x(a),y(a),z(a))+t(x'(a),y'(a),z'(a))
				      \]
				\item[Normal plane to a trajectory in the space] \mbox{$f(t)=(x(t),y(t),z(t))$} at time $t=a$
				      \[
					      x'(a)(x-x(a))+y'(a)(y-y(a))+z'(a)(z-z(a))=0
				      \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}



\subsection*{Derivatives of functions of several variables}

	\begin{tcolorbox}[hbox, title=Partial derivatives]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Gradient vector]
				\[
          \nabla f = \left(\frac{\partial f}{\partial x_1},\ldots, \frac{\partial f}{\partial x_n}\right)
        \]
				\item[Hessian Matrix]
				\[
          \begin{array}{c}
          \nabla^2f=
          \left(
          \begin{array}{cccc}
          \dfrac{\partial^2 f}{\partial x_1^2} & 
          \dfrac{\partial^2 f}{\partial x_1 \partial x_2} &
          \cdots &
          \dfrac{\partial^2 f}{\partial x_1 \partial x_n}\\
          \dfrac{\partial^2 f}{\partial x_2 \partial x_1} &
          \dfrac{\partial^2 f}{\partial x_2^2} & 
          \cdots &
          \dfrac{\partial^2 f}{\partial x_2 \partial x_n}\\
          \vdots & \vdots & \ddots & \vdots \\
          \dfrac{\partial^2 f}{\partial x_n \partial x_1} &
          \dfrac{\partial^2 f}{\partial x_n \partial x_2} &
          \cdots &
          \dfrac{\partial^2 f}{\partial x_n^2}
          \end{array}
          \right)
          \end{array}
        \]
				\item[Hessian] 
				\[
				  Hf(P)=|\nabla^2f(P)|
				\]
				\item[Directional derivative] of $f$ at a point $P$ along the direction of $v$
				\[
					f'_{\mathbf{v}}(P) = \nabla f(P)\frac{\mathbf{v}}{|\mathbf{v}|}
        \]
        \item[Chain rule] 
        \[
          f(g(t))' = \nabla f(g(t))g'(t)
        \]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Tangent and normal lines in the plane]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Normal line to a trajectory in the plane] $f(x,y)=0$ at point $P=(a,b)$
				\[
					\begin{array}{c}
						P+t\nabla f(P) = (a,b)+t\nabla f(a,b) \mbox{ or } \\
						(x-a)\frac{\partial f}{\partial y}(a,b)-(y-b)\frac{\partial f}{\partial x}(a,b)=0
					\end{array}      
				\]
				\item[Tangent line to a trajectory in the plane] $f(x,y)=0$ at point $P=(a,b)$
				\[
					(x-a)\frac{\partial f}{\partial x}(a,b)+(y-b)\frac{\partial f}{\partial y}(a,b)=0
				\]
			\end{description}
		\end{minipage}
  \end{tcolorbox}
  
  \begin{tcolorbox}[hbox, title=Normal line and tangent plane in the space]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Normal line to a surface in the space] $f(x,y,z)=0$ at point $P=(a,b,c)$
			  \[
				  P+t\nabla f(P) = (a,b,c)+t\nabla f(a,b,c)
				\]
				\item[Tangent plane to a surface in the space] $f(x,y,z)=0$ at point $P=(a,b,c)$
				\[
					(x-a)\frac{\partial f}{\partial x}(a,b,c)+(y-b)\frac{\partial f}{\partial y}(a,b,c)+(z-c)\frac{\partial f}{\partial z}(a,b,c)=0
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Implicit derivatives]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Implicit derivative] of a function $f(x,y)=0$
				\[
					y' = \frac{-\dfrac{\partial f}{\partial x}}{\dfrac{\partial f}{\partial y}}
					\quad \mbox{ and } \quad
					x' = \frac{-\dfrac{\partial f}{\partial y}}{\dfrac{\partial f}{\partial x}}
				\]
				\item[Implicit partial derivatives] of a function $f(x,y,z)=0$
				\[
					\frac{\partial z}{\partial x} = \frac{-\dfrac{\partial f}{\partial x}}{\dfrac{\partial f}{\partial z}}
					\quad \mbox{ and } \quad
					\frac{\partial z}{\partial x} = \frac{-\dfrac{\partial f}{\partial y}}{\dfrac{\partial f}{\partial z}}
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Extrema and saddle points]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			1. Compute the critical points $\nabla f(P)=0$.

			2. At any critical point $P$ compute the Hessian:
				\begin{itemize}
					\item $Hf(P)>0$ and $\dfrac{\partial^2 f}{\partial x^2}(P)>0$ $\Rightarrow$ $f$ has a local minimum at $P$.
					\item $Hf(P)>0$ and $\dfrac{\partial^2 f}{\partial x^2}(P)<0$ $\Rightarrow$ $f$ has a local maximum at $P$.					
					\item $Hf(P)<0$ $\Rightarrow$ $f$ has a saddle point at $P$.
					\end{itemize}
		\end{minipage}
	\end{tcolorbox}

	\begin{tcolorbox}[hbox, title=Function approximation]
		\begin{minipage}{0.4\textwidth}
			\flushleft
			\begin{description}
				\item[Taylor polynomial] of second order of $f(x,y)$ at point $P=(a,b)$
				\[
					\begin{split}					
					P^2_{f,P}(x,y)&=f(a,b)+\nabla f(a,b)(x-a,y-b)+\\
					&+\frac{1}{2}(x-a,y-b)\nabla^2f(a,b)(x-a,y-b)
					\end{split}
				\]
				\item[Maclaurin polynomial] of second order of $f(x,y)$
				\[
					P^2_{f,(0,0)}(x,y)=f(0,0)+\nabla f(0,0)(x,y)+\frac{1}{2}(x,y)\nabla^2f(0,0)(x,y)
				\]
			\end{description}
		\end{minipage}
	\end{tcolorbox}

\end{multicols}

